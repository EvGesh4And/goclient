{% extends "akm2501/st18/base.html" %}
{% block content %}

{% if message %}
    <div class="alert alert-info" style="padding: 10px; background: #d4edda; border: 1px solid #c3e6cb; color: #155724; margin-bottom: 15px; border-radius: 4px;">
        {{ message }}
    </div>
{% endif %}

{% if not items %}
<p>Картотека пуста.</p>
{% else %}
<form method="post" action="{{ url_for('st0118.clear') }}">
    <button type="submit">Очистить</button>
</form>

<table border="1" cellpadding="6" cellspacing="0">
    <thead>
    <tr>
        <th>ID</th>
        <th>Тип</th>
        <th>Детали</th>
        <th>Действия</th>
    </tr>
    </thead>
    <tbody>
    {% for id, item in items.items() %}
    <tr>
        <td>{{ id }}</td>
        <td>{{ item.__class__.__name__ }}</td>
        <td><a href="{{ url_for('st0118.item_view', item_id=id) }}">Открыть</a></td>
        <td><a href="{{ url_for('st0118.edit', item_id=id) }}">Изменить</a></td>
        <td>
            <form method="post" action="{{ url_for('st0118.delete', item_id=id) }}" style="display:inline">
                <button type="submit">Удалить</button>
            </form>
        </td>
    </tr>
    {% endfor %}
    </tbody>
</table>
{% endif %}
{% endblock %}